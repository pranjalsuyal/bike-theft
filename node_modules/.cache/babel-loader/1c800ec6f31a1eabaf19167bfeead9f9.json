{"ast":null,"code":"var _jsxFileName = \"/home/kuliza-287/nano/bike-theft/src/components/pages/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport HomeSection from \"../HomeSection\";\nimport SearchBar from \"../SearchBar\";\nimport Navbar from \"../Navbar\";\nimport Case from \"../Case\";\nimport { CircularProgress, makeStyles } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Police from \"../../utils/police.jpg\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: 0,\n    boxSizing: \"border-box\"\n  },\n  hero: {\n    backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(${Police})`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundAttachment: \"fixed\"\n  },\n  cardSection: {\n    margin: \"0 15%\",\n    backgroundColor: \"#fff\",\n    borderRadius: \"20px\"\n  }\n}));\n\nfunction Home() {\n  const [results, setResults] = useState([]);\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const classes = useStyles();\n\n  const onSearchSubmit = async (term, fromDate, toDate) => {\n    setLoading(true);\n    console.log(term, \"here\");\n    const res = await axios.get(\"https://bikewise.org:443/api/v2/incidents\", {\n      params: {\n        proximity: \"Berlin\",\n        proximity_square: 100,\n        query: term,\n        per_page: 100,\n        occurred_after: fromDate,\n        occurred_before: toDate\n      }\n    }).catch(err => {\n      setErrMsg(err.message);\n      setLoading(false);\n    });\n    setResults(res.data.incidents);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    onSearchSubmit(\"\");\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.hero,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(HomeSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.cardSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    onSearchSubmit: onSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), errMsg && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 22\n    }\n  }, errMsg), loading && /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 200,\n    thickness: 2,\n    style: {\n      marginLeft: \"42%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), results.length > 0 ? /*#__PURE__*/React.createElement(Case, {\n    results: results,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }) : !loading && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Oh-ho, No results Found, Please try different filters\"))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/kuliza-287/nano/bike-theft/src/components/pages/Home.js"],"names":["React","useEffect","useState","axios","HomeSection","SearchBar","Navbar","Case","CircularProgress","makeStyles","Alert","Police","useStyles","theme","root","margin","padding","boxSizing","hero","backgroundImage","backgroundSize","backgroundPosition","backgroundAttachment","cardSection","backgroundColor","borderRadius","Home","results","setResults","errMsg","setErrMsg","loading","setLoading","classes","onSearchSubmit","term","fromDate","toDate","console","log","res","get","params","proximity","proximity_square","query","per_page","occurred_after","occurred_before","catch","err","message","data","incidents","marginLeft","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport HomeSection from \"../HomeSection\";\nimport SearchBar from \"../SearchBar\";\nimport Navbar from \"../Navbar\";\nimport Case from \"../Case\";\nimport { CircularProgress, makeStyles } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Police from \"../../utils/police.jpg\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: 0,\n    boxSizing: \"border-box\",\n  },\n  hero: {\n    backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(${Police})`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundAttachment: \"fixed\",\n  },\n  cardSection: {\n    margin: \"0 15%\",\n    backgroundColor: \"#fff\",\n    borderRadius: \"20px\",\n  },\n}));\n\nfunction Home() {\n  const [results, setResults] = useState([]);\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const classes = useStyles();\n\n  const onSearchSubmit = async (term, fromDate, toDate) => {\n    setLoading(true);\n    console.log(term, \"here\");\n    const res = await axios\n      .get(\"https://bikewise.org:443/api/v2/incidents\", {\n        params: {\n          proximity: \"Berlin\",\n          proximity_square: 100,\n          query: term,\n          per_page: 100,\n          occurred_after: fromDate,\n          occurred_before: toDate,\n        },\n      })\n      .catch((err) => {\n        setErrMsg(err.message);\n        setLoading(false);\n      });\n    setResults(res.data.incidents);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    onSearchSubmit(\"\");\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.hero}>\n        <Navbar />\n        <HomeSection />\n        <div className={classes.cardSection}>\n          <SearchBar onSearchSubmit={onSearchSubmit} />\n          {errMsg && <Alert severity=\"error\">{errMsg}</Alert>}\n          {loading && (\n            <CircularProgress\n              size={200}\n              thickness={2}\n              style={{ marginLeft: \"42%\" }}\n            />\n          )}\n          {results.length > 0 ? (\n            <Case results={results} />\n          ) : (\n            !loading && (\n              <Alert severity=\"warning\">\n                Oh-ho, No results Found, Please try different filters\n              </Alert>\n            )\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}