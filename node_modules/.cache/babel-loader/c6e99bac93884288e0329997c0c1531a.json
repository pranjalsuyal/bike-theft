{"ast":null,"code":"var _jsxFileName = \"/home/kuliza-287/nano/bike-theft/src/components/pages/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport HomeSection from \"../HomeSection\";\nimport SearchBar from \"../SearchBar\";\nimport Case from \"../Case\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction Home() {\n  const [results, setResults] = useState([]);\n  const [errMsg, setErrMsg] = useState(\"\"); //api call here\n\n  const onSearchSubmit = async (term, fromDate, toDate) => {\n    console.log(term, \"here\");\n    const res = await axios.get(\"https://bikewise.org:443/api/v2/incidents\", {\n      params: {\n        proximity: \"Berlin\",\n        proximity_square: 100,\n        query: term,\n        per_page: 100,\n        occurred_after: fromDate,\n        occurred_before: toDate\n      }\n    }) // .then(setResults(res.data.incidents))\n    .catch(err => setErrMsg(err.message));\n    setResults(res.data.incidents);\n  };\n\n  useEffect(() => {\n    onSearchSubmit(\"\");\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HomeSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchBar, {\n    onSearchSubmit: onSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), errMsg && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 18\n    }\n  }, errMsg), !results.length ? /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 200,\n    thickness: 2,\n    style: {\n      marginLeft: \"42%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }) : results.length > 0 ? /*#__PURE__*/React.createElement(Case, {\n    results: results,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    severity: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Sorry, No Results Found. Please try again with different filters\"));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/kuliza-287/nano/bike-theft/src/components/pages/Home.js"],"names":["React","useEffect","useState","axios","HomeSection","SearchBar","Case","CircularProgress","Alert","Home","results","setResults","errMsg","setErrMsg","onSearchSubmit","term","fromDate","toDate","console","log","res","get","params","proximity","proximity_square","query","per_page","occurred_after","occurred_before","catch","err","message","data","incidents","length","marginLeft"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,SAASC,IAAT,GAAgB;AACd,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC,CAFc,CAGd;;AACA,QAAMY,cAAc,GAAG,OAAOC,IAAP,EAAaC,QAAb,EAAuBC,MAAvB,KAAkC;AACvDC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkB,MAAlB;AACA,UAAMK,GAAG,GAAG,MAAMjB,KAAK,CACpBkB,GADe,CACX,2CADW,EACkC;AAChDC,MAAAA,MAAM,EAAE;AACNC,QAAAA,SAAS,EAAE,QADL;AAENC,QAAAA,gBAAgB,EAAE,GAFZ;AAGNC,QAAAA,KAAK,EAAEV,IAHD;AAINW,QAAAA,QAAQ,EAAE,GAJJ;AAKNC,QAAAA,cAAc,EAAEX,QALV;AAMNY,QAAAA,eAAe,EAAEX;AANX;AADwC,KADlC,EAWhB;AAXgB,KAYfY,KAZe,CAYRC,GAAD,IAASjB,SAAS,CAACiB,GAAG,CAACC,OAAL,CAZT,CAAlB;AAaApB,IAAAA,UAAU,CAACS,GAAG,CAACY,IAAJ,CAASC,SAAV,CAAV;AACD,GAhBD;;AAkBAhC,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,cAAc,CAAC,EAAD,CAAd;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE,uDACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,cAAc,EAAEA,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGF,MAAM,iBAAI,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBA,MAAzB,CAHb,EAIG,CAACF,OAAO,CAACwB,MAAT,gBACC,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAE,GADR;AAEE,IAAA,SAAS,EAAE,CAFb;AAGE,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAMGzB,OAAO,CAACwB,MAAR,GAAiB,CAAjB,gBACF,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAExB,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,gBAGF,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAbJ,CADF;AAoBD;;AAED,eAAeD,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport HomeSection from \"../HomeSection\";\nimport SearchBar from \"../SearchBar\";\nimport Case from \"../Case\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction Home() {\n  const [results, setResults] = useState([]);\n  const [errMsg, setErrMsg] = useState(\"\");\n  //api call here\n  const onSearchSubmit = async (term, fromDate, toDate) => {\n    console.log(term, \"here\");\n    const res = await axios\n      .get(\"https://bikewise.org:443/api/v2/incidents\", {\n        params: {\n          proximity: \"Berlin\",\n          proximity_square: 100,\n          query: term,\n          per_page: 100,\n          occurred_after: fromDate,\n          occurred_before: toDate,\n        },\n      })\n      // .then(setResults(res.data.incidents))\n      .catch((err) => setErrMsg(err.message));\n    setResults(res.data.incidents);\n  };\n\n  useEffect(() => {\n    onSearchSubmit(\"\");\n  }, []);\n\n  return (\n    <>\n      <HomeSection />\n      <SearchBar onSearchSubmit={onSearchSubmit} />\n      {errMsg && <Alert severity=\"error\">{errMsg}</Alert>}\n      {!results.length ? (\n        <CircularProgress\n          size={200}\n          thickness={2}\n          style={{ marginLeft: \"42%\" }}\n        />\n      ) : results.length > 0 ? (\n        <Case results={results} />\n      ) : (\n        <Alert severity=\"warning\">\n          Sorry, No Results Found. Please try again with different filters\n        </Alert>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}